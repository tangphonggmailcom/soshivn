/*! skin js 5.0.13 Copyright (c) 2016 LOGOSWARE; */
!function(e){function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}([function(e,i){(function(){var e;Vue.transition("slide",{css:!1,enter:function(i,t){var n;return n=i.id,flipper.$emit("hammer",!1),$(i).css("top",e.viewHeigh).animate({top:0},300,function(i){var t;if("list-slidemenu"===n&&!(e.isTextIndexOpen||e.isThumbnailOpen||e.isPdfOpen||e.isFusenListOpen))switch(t=$(".segmented").find("label:first").attr("data-type")){case"textindex":return e.isTextIndexOpen=!0;case"thumbnail":return e.isThumbnailOpen=!0,e.initLazyload();case"pdf":return e.isPdfOpen=!0,e.initLazyload();case"fusen":return e.isFusenListOpen=!0}})},enterCancelled:function(e){return $(e).stop()},leave:function(i,t){return $(i).animate({top:e.viewHeigh},200,function(t){return $(i).hide(),$(i).stop(),e.isTegakiRestart===!0&&flipper.tegakiStart(),e.isTegakiRestart=!1,e.isFusenCreated===!0&&(e.isFusenCreated=!1),flipper.$emit("hammer",!0),e.onResize()})},leaveCancelled:function(e){return $(e).stop()}}),Vue.component("textindex-item",{props:["model","open"],template:"#textindex-template",data:function(){},computed:{isSingleChild:function(){return this.model.menu&&void 0===this.model.menu.length},isFolder:function(){return this.model.menu}},methods:{toggle:function(){return this.isFolder?void(this.open=!this.open):(flipper.gotoTargetPage(this.model.pagenum,!1),flipper.$emit("sendTextIndexLog",this.model.name),e.menuCloseAll(),e.listCloseAll(),e.isListOpen=!1,e.isTextIndexOpen=!1)},replaceNewline:function(e){return e.replace(/%0A/gi,"<br>")}}}),Vue.component("fusenlist-item",{props:["model","open"],template:"#fusenlist-template",methods:{onClickFusenData:function(){return flipper.gotoTargetPageId(this.model.pageId,!1),e.menuCloseAll(),e.listCloseAll(),e.isListOpen=!1,e.isFusenListOpen=!1}}}),Vue.component("visualindex-row",{props:["model"],template:"#visual-index",computed:{isCheck:function(){return"1"===flipper.scormCheckPageArray[this.model.page-1]}},methods:{onClick:function(){return e.isPdfOpen===!0?void window.open(flipper.bookpath+"pdf/"+this.model.page+".pdf","_blank"):(flipper.gotoTargetPage(this.model.page,!1),flipper.$emit("sendVisualIndexLog",this.model.page),e.menuCloseAll(),e.listCloseAll(),e.isListOpen=!1,e.isThumbnailListOpen=!1)},onRollOverLeft:function(){return this.isRollOverL=!0},onRollOverRight:function(){return this.isRollOverR=!0},onRollOutLeft:function(){return this.isRollOverL=!1},onRollOutRight:function(){return this.isRollOverR=!1}},data:function(){return{isRollOverL:!1,isRollOverR:!1}}}),e=new Vue({el:"#skin",data:{uaCheck:{},androidVer:"4.4.4",iOSVer:"9.0",isSkinInitialized:!1,isLanguageLoaded:!1,isHighlightwords:!1,activePage:1,activePageLabel:"1",treeData:null,isTextIndexOpen:!1,isMenuXmlRootArray:!0,isThumbnailOpen:!1,visualIndexArray:[],thumbnailLimit:50,filterdVisualIndexArray:[],searchString:"",searchResultArray:[],filterdSearchResultArray:[],searchResultLimit:20,isSearchOpen:!1,isSearchNomatchOpen:!1,isShareOpen:!1,isPdfOpen:!1,pageIndicateValue:"",isListOpen:!1,isFusenOpen:!1,isFusenListOpen:!1,isFusenCreated:!1,fusenData:{id:"",text:"",bgColor:""},fusenDataBgColor:"",fusenListDataArray:[],fusenDeleteModal:!1,isTegakiViewOpen:!1,isTegakiOpen:!1,isTegakiColorOpen:!1,isTegakiRestart:!1,isTegakiEraserLineOpen:!1,isTegakiEraserAllOpen:!1,tegakiData:{stroke:"",color:"",thickness:"",thicknessType:""},tegakiDataTemp:{stroke:"",color:"",thickness:"",thicknessType:""},tegakiThicknessCurrent:"",tegakiDeleteModal:!1,libraMemoNoLoginModal:!1,view:"carousel",viewHeigh:0,isToolbarOpen:!0,toolbarCloseTimer:0,isSettingOpen:!1,isPrintModalOpen:!1,checkedPrintOptions:[],checkedSearchOption:"and",words:{},openColorboxType:"",logoLinkUrl:"https://suite.logosware.com/flipper-maker/",logoImageurl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAAAjVBMVEUAAABVVVVVVVVVVVVra2uIiIiIiIhVVVVVVVVVVVVVVVWIiIiIiIhVVVWIiIhVVVVVVVWIiIhVVVWIiIiIiIiIiIiIiIiIiIiIiIhVVVVVVVVVVVWIiIiIiIhVVVXZdSuIiIj////supX23cr99vLwyKrjmGDgj1PehkbproP67uX45dfz1L3bfjjloG2SmRoVAAAAHnRSTlMAQIC/EEC/n2DP3zCAIO/vMJ+vz1BgIN+PUHCPr3AjNYMyAAADxUlEQVRYw+yVAWvbMBCFX5qT1k2qGmPJMp29XOJ0WcrW///zdpIXhFloS41pC32Ee7roIB8vB8KnPvWRtH1GeD96IapVUlSnWxIP4g1AVncBMF1n0Hv4HsY28JaAYK0HrLVvgMoW6Dlqdg2q7EQ168gtonMRukbN1DLgOACamRWkvA0qsSYYrhRXgPFo2QMdNzEqA8uGOdQagbkGtFZsIbNLox6Pl1AVKyQIywSllNGCBMXBszPiHcdKprTr2eRUzfKp/hx2u/vjJdQAoNb9+NdWOgLw0hjnCBJmy+ybZFVC7bF4qve7UcOwL6jpVyk630hwQpM8BK4a71yjQyW8NbeemSxrHR1prR0ti1pID7/3E1RmZVwKEwj/vBVzimoJNDUK4lGnpEPe1SUXoJAOj9MFSMtJIKUMRGc36UtQro2S3kA1gJR0ko9aMNXTmOjp/T8Bfw6Z9PgBXqt9DrWQFtRV0c1NqoSsfMZmvMBkmEpbtKHRZ6M+JNLTpSfgR9HVVaorZOUz1ue79R2hDN+ur1HacWB1Pn37spqB+iuRPmxnoArBZjL8lS6jZn1/PepjDnUWqrDSlO1/1KK7V6CWVT1s56HKPaQUXT+BejsLdfjbjrmtNgzDYNiyDT5AsPFdEgjs1I212/s/3uJ/1jqtycZatlLof5FKjmM+WYrcdh3VEdQtowYiX7CtPHlABIVdKAN1INKpGr1gsWTZUJDXmtZRb9dRdbOXUU11wbqfHGsIzW0ifjjzMMvUKOuN2XAwYogwF1A3QD2yAIDqJSruLhQAyeghYte1CV0aETsdoj5tXk9GdRIVhbGC2klUJMTW5Kf6DNYiBKC/om6eb6CHY1EDUe9ErfZcqweoA9EQRa2C3HFiPOKsfi9R+fCHtv/aAaxiaV4z8nCpkO5TOPvmv73Dxj6tohoN0feoYaGv4lnIkwwDaoSRS9YpKGOv4UD83W9XER8fUKxHdQAm7UQKjJXPKlomzXx4BVEWAaQC9W7HJXt//3ICapCHfoG7gmo6tFBc1TAPZG4hlie75NUB6kfaX7a741ADkRLnRYa9iDoCtYKWFGNu73/1E/cS3Ax55bRi1s3PqCwtmpVkYy01K9Py71wwOtXXHQvYMLVSHfXsjD//uP571O69q6lkp0iBgDpRDlMAamem3kYk3/szoyqHba2oyTZUjGRU/JR65ZKpmujcqG1bXQm6JF4zMrPZt5Hx1wWAhtps0h8i2MrPF04UT5Yuy3f1OpN4fNoyxZjRAsyIHmWHojFA77IX+aflVVddgN4Atkwcal/ygI8AAAAASUVORK5CYII=",printStartPage:1,printEndPage:1,isPDFLinkModal:!1},computed:{makerPlan:function(){return flipper.makerPlan},makerGrade:function(){return flipper.makerGrade},soHtmlSkinType:function(){return flipper.soHtmlSkinType},isLogoswareLogo:function(){return"vl"===flipper.makerGrade},bookpath:function(){return flipper.bookpath},selectedAreaUrl:function(){return flipper.isCordova?phoneGapShareUrl:flipper.selectedAreaUrl},selectedShareIframeTag:function(){return flipper.selectedShareIframeTag},selectedText:function(){return flipper.selectedLeftPageString+flipper.selectedRightPageString},visibilityFlipL:function(){return flipper.enableFlipL&&flipper.hsFlipButtonEnabled?"visible":"hidden"},visibilityFlipR:function(){return flipper.enableFlipR&&flipper.hsFlipButtonEnabled?"visible":"hidden"},isMinScale:function(){return 0===flipper.scaleIndex},isMaxScale:function(){return flipper.scale===flipper.maxMagnification},bookViewLength:function(){return flipper.bookViewLength},bookPageTotal:function(){return flipper.pageTotal},activeRightPage:function(){return flipper.activeRightPage},activeLeftPage:function(){return flipper.activeLeftPage},soPdf:function(){return flipper.soPdf},soPdfType:function(){return flipper.soPdfType},soSearch:function(){return flipper.soSearch},soVisualIndex:function(){return flipper.soVisualIndex},soVisualIndexLabel:function(){return flipper.soVisualIndexLabel},soTextIndex:function(){return flipper.soTextIndex&&0!==this.treeData.length},soTextIndexLabel:function(){return flipper.soTextIndexLabel},soTextIndexTreeOpen:function(){return flipper.soTextIndexTreeOpen},allowPrint:function(){return flipper.allowPrint},soMultiplePagesPrint:function(){return flipper.soMultiplePagesPrint},soPageIndicate:function(){return flipper.soPageIndicate},soShare:function(){return flipper.soShare},soTextSelect:function(){return flipper.soTextSelect},soEmbedHtml:function(){return flipper.soEmbedHtml},soSNSTwitter:function(){return flipper.soSNSTwitter},soSNSMail:function(){return flipper.soSNSMail},soSNSLine:function(){return flipper.soSNSLine},soHelp:function(){return flipper.soHelp},allowMemo:function(){return flipper.allowMemo},soFusenIndex:function(){return flipper.soFusenIndex},soFusenIndexLabel:function(){return flipper.soFusenIndexLabel},hsFusenBGColors:function(){return flipper.hsFusenBGColors},hsTegakiPenColors:function(){return flipper.hsTegakiPenColors},hsTegakiThicknesses:function(){return flipper.hsTegakiThicknesses},soChangeMemoVisible:function(){return flipper.soChangeMemoVisible},memoLayerVisible:function(){return flipper.memoLayerVisible},publishDateString:function(){return flipper.publishDateString},hsLanguage:function(){return flipper.hsLanguage},showList:function(){return this.soVisualIndex===!0||this.soTextIndex===!0||this.soPdf===!0||this.soFusenIndex===!0},showListSegmented:function(){var e;return"undefined"!=typeof isPDFList&&isPDFList===!0?(e=this.soVisualIndex===!0?1:0,e+=this.soTextIndex===!0?1:0,e+=this.soPdf===!0?1:0,e+=this.soFusenIndex===!0?1:0,2<=e):(e=this.soVisualIndex===!0?1:0,e+=this.soTextIndex===!0?1:0,e+=this.soFusenIndex===!0?1:0,2<=e)},showListPdf:function(){return"undefined"!=typeof isPDFList&&isPDFList===!0&&(this.soVisualIndex===!1&&this.soTextIndex===!1&&this.soFusenIndex===!1&&this.soPdf===!0&&"book"===flipper.soPdfType)},showModalPDF:function(){return this.soPdf!==!1&&("undefined"==typeof isPDFList||isPDFList!==!0)},showSetting:function(){return!!(this.allowMemo===!0&&this.soChangeMemoVisible===!0||this.allowPrint||this.soHelp)},hsMobileCloseButtonType:function(){return"visible"===flipper.hsMobileCloseButtonType||"default"===flipper.hsMobileCloseButtonType&&null!==window.parent.opener},hsMobileHomepageButtonEnabled:function(){return flipper.hsMobileHomepageButtonEnabled},hsMobileHomepageButtonUrl:function(){return flipper.hsMobileHomepageButtonUrl},hsMobileHomepageButtonTarget:function(){return flipper.hsMobileHomepageButtonTarget},hsFusenBGColors:function(){return flipper.hsFusenBGColors},isChirashi:function(){return flipper.isChirashi},bookDirectionL2R:function(){return"l2r"===flipper.bookDirection}},methods:{fusenListSort:function(e,i){var t;return t=Number(e.pageId)-Number(i.pageId),0===t?e.text<i.text?-1:e.text>i.text?1:0:t},onResize:function(){if(!this.isFusenOpen)return setTimeout(function(e){return function(){var i,t;return i=$(window).innerHeight(),t=$(window).innerWidth(),document.body.style.height=i+1+"px",setTimeout(function(){if(document.body.style.height=i+"px",t<i){if("slide"!==e.view)return e.isTegakiColorOpen&&(e.isTegakiColorOpen=!1),e.isTegakiViewOpen&&e.onTegakiCloseButtonClick(),e.view="slide",flipper.changeView("slide"),e.viewHeigh=$(window).height()}else if("carousel"!==e.view)return e.isTegakiColorOpen&&(e.isTegakiColorOpen=!1),e.isTegakiViewOpen&&e.onTegakiCloseButtonClick(),e.view="carousel",flipper.changeView("carousel"),e.viewHeigh=$(window).height()},500)}}(this),300)},page2Label:function(e){var i;try{return flipper.labelArray[e-1]}catch(e){i=e}return""},pageId2Label:function(e){var i;return i=flipper.dataArray.indexOf(String(e)),flipper.labelArray[i]},gotoTargetPage:function(){var e;return e=this.activePage,flipper.gotoTargetPage(e,!1)},gotoTargetLabel:function(){var e;return e=this.pageIndicateValue,flipper.gotoTargetLabel(e,!1)},zoomin:function(){return flipper.zoomin()},zoomout:function(){return flipper.zoomout()},flipL:function(){return flipper.flipL()},flipR:function(){return flipper.flipR()},flipLMax:function(){return flipper.flipLMax()},flipRMax:function(){return flipper.flipRMax()},menuCloseAll:function(e){if("search"!==e&&(this.isSearchOpen=!1),"list"!==e&&(this.isListOpen=!1),"share"!==e&&(this.isShareOpen=!1),"fusen"!==e)return this.isFusenOpen=!1},listCloseAll:function(e){if("text"!==e&&(this.isTextIndexOpen=!1),"thumb"!==e&&(this.isThumbnailOpen=!1),"pdf"!==e&&(this.isPdfOpen=!1),"fusenlist"!==e)return this.isFusenListOpen=!1},onSearchViewButtonClick:function(e){if(!this.isSearchOpen)return this.menuCloseAll("search"),Vue.nextTick(function(e){return function(){return e.searchResultArray=[],e.isSearchOpen=!0}}(this))},searchText:function(){var e,i;if($("#search-btn").removeClass("hover"),0!==this.searchString.length)return e=this.searchString.replace(/\^|\$|\\|\.|\*|\+|\?|\(|\)|\[|\]|\|/g,"\\$&").replace(/＼/g,"\\\\").replace(/￥/g,"\\\\"),i=e.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" "),flipper.$emit("searchHighlight",i),flipper.$emit("searchText",i),$("#search-keyword").blur()},onClickSearchResult:function(e){var i,t;return i=this.searchString.replace(/\^|\$|\\|\.|\*|\+|\?|\(|\)|\[|\]|\|/g,"\\$&").replace(/＼/g,"\\\\").replace(/￥/g,"\\\\"),t=i.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" "),flipper.gotoTargetPage(e,!1),flipper.$emit("searchHighlight",t),this.isSearchOpen=!1},searchClear:function(){return this.searchString="",this.filterdSearchResultArray=[],this.searchResultArray=[],this.isSearchNomatchOpen=!1,flipper.$emit("searchHighlight",[])},onClickMoreSearchResult:function(){return this.searchResultLimit=this.searchResultLimit+20,this.filterdSearchResultArray=this.searchResultArray.filter(function(e){return function(i,t){return t<e.searchResultLimit}}(this))},onClickSearchClose:function(){return this.isSearchOpen=!1,$("#search-keyword").blur()},changeSearchType:function(){return flipper.isAndTextSearch="and"===this.checkedSearchOption,this.searchText()},onListButtonClick:function(e){return this.menuCloseAll("list"),this.isListOpen=!this.isListOpen},onListPdfButtonClick:function(e){return window.open(flipper.bookpath+"book.pdf","_blank")},onTextIndexButtonClick:function(){if(!this.isTextIndexOpen)return this.listCloseAll("text"),this.isTextIndexOpen=!0},onThumbnailButtonClick:function(){if(!this.isThumbnailOpen)return this.listCloseAll("thumb"),this.isThumbnailOpen=!0,this.initLazyload()},onClickCloseThumbnail:function(){return this.isThumbnailOpen=!1,this.isPdfOpen=!1},onClickMoreThumbnail:function(){return this.thumbnailLimit=this.thumbnailLimit+50,this.filterdVisualIndexArray=this.visualIndexArray.filter(function(e){return function(i,t){return t<e.thumbnailLimit}}(this)),Vue.nextTick(function(e){return function(){return e.lazyload()}}(this))},onPdfButtonClick:function(){if("book"===flipper.soPdfType)return window.open(flipper.bookpath+"book.pdf","_blank");if(!this.isPdfOpen)return this.listCloseAll("pdf"),this.isPdfOpen=!0,this.initLazyload()},onModalPdfButtonClick:function(){return"book"===flipper.soPdfType?window.open(flipper.bookpath+"book.pdf","_blank"):this.isChirashi===!0?window.open(flipper.bookpath+"pdf/"+flipper.activePage+".pdf","_blank"):"slide"!==this.view?0===flipper.activeLeftPage?window.open(flipper.bookpath+"pdf/"+flipper.activeRightPage+".pdf","_blank"):0===flipper.activeRightPage?window.open(flipper.bookpath+"pdf/"+flipper.activeLeftPage+".pdf","_blank"):this.isPDFLinkModal=!0:window.open(flipper.bookpath+"pdf/"+flipper.activePage+".pdf","_blank")},onClickPDFLeft:function(){return window.open(flipper.bookpath+"pdf/"+flipper.activeLeftPage+".pdf","_blank"),this.isPDFLinkModal=!1},onClickPDFRight:function(){return window.open(flipper.bookpath+"pdf/"+flipper.activeRightPage+".pdf","_blank"),this.isPDFLinkModal=!1},onClickPDFOutside:function(e){var i;if(i=e.target,$(i).hasClass("modal-wrapper")===!0)return this.isPDFLinkModal=!1},onFusenListButtonClick:function(){if(!this.isFusenListOpen)return this.listCloseAll("fusenlist"),this.isFusenListOpen=!0},onShareButtonClick:function(e){if(!this.isShareOpen)return this.menuCloseAll("share"),this.isShareOpen=!0},onClickTwitter:function(){var e;return flipper.isCordova?(e="http://twitter.com/share?url="+encodeURIComponent(phoneGapShareUrl),window.open(e,"_system")):window.open(flipper.shareUrlForTwitter)},onClickFacebook:function(){var e;return flipper.isCordova?(e="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(phoneGapShareUrl),window.open(e,"_system")):window.open(flipper.shareUrlForFacebook)},onClickMail:function(){return window.location.href=flipper.shareUrlForMail},onClickLine:function(){return window.open(flipper.shareUrlForLine)},onClickShareClose:function(){return this.isShareOpen=!1,$("#share-url").blur()},onFusenButtonClick:function(e){if(flipper.isOnLibra&&!flipper.libraAccessKey)return void(this.libraMemoNoLoginModal=!0);if(!this.isFusenOpen)return this.isFusenCreated=!0,this.menuCloseAll("fusen"),""===this.fusenDataBgColor&&(this.fusenDataBgColor=this.hsFusenBGColors[0]),this.fusenData.id="",this.fusenData.text="",this.fusenData.bgColor=this.fusenDataBgColor,this.isFusenOpen=!0},onClickFusenDelete:function(){return $("#fusen-text").blur(),this.fusenDeleteModal=!0},onClickFusenDeleteModalCancel:function(){return this.fusenDeleteModal=!1},onClickFusenDeleteModalOK:function(){return this.fusenDeleteModal=!1,flipper.fusenPeel(this.fusenData.id)?this.isFusenOpen=!1:window.alert(this.words.LibraDeleteError)},onClickFusenColor:function(e){return this.fusenData.bgColor=e},onClickFusenSave:function(){return this.fusenData.text=$("#fusen-text").val(),""===this.fusenData.id?flipper.fusenPaste(this.fusenData):flipper.fusenUpdate(this.fusenData),this.fusenData.id="",this.fusenDataBgColor=this.fusenData.bgColor,$("#fusen-text").blur(),this.isFusenOpen=!1},onClickFusenCancel:function(){return this.fusenData.id="",$("#fusen-text").blur(),this.isFusenOpen=!1},onTegakiButtonClick:function(e){var i;if(flipper.isOnLibra&&!flipper.libraAccessKey)return void(this.libraMemoNoLoginModal=!0);if(!this.isTegakiViewOpen)return""===this.tegakiData.stroke&&(this.tegakiData.stroke="curve",this.tegakiData.color=this.hsTegakiPenColors[0],this.tegakiData.thickness=this.hsTegakiThicknesses[0].thickness,this.tegakiData.thicknessType=this.hsTegakiThicknesses[0].thicknessType,i=new RGBColor(this.tegakiData.color),flipper.tegakiColor(i.r,i.g,i.b,1),flipper.tegakiThickness(this.tegakiData.thickness),flipper.tegakiPen()),this.menuCloseAll(),this.isToolbarOpen=!1,this.isTegakiViewOpen=!0,flipper.tegakiStart()},onTegakiCloseButtonClick:function(e){return this.onTegakiEraserLineClose(),this.isToolbarOpen=!0,this.isTegakiViewOpen=!1,flipper.tegakiEnd()},onTegakiColorButtonClick:function(e){if(!this.isTegakiColorOpen)return this.onTegakiEraserLineClose(),this.tegakiDataTemp.stroke=this.tegakiData.stroke,this.tegakiDataTemp.color=this.tegakiData.color,this.tegakiDataTemp.thickness=this.tegakiData.thickness,this.tegakiDataTemp.thicknessType=this.tegakiData.thicknessType,flipper.tegakiEnd(),this.menuCloseAll("tegakicolor"),this.isTegakiColorOpen=!0},onTegakiPenButtonClick:function(e){var i,t;if(this.isTegakiEraserLineOpen!==!1)return this.onTegakiEraserLineClose(),"curve"===this.tegakiData.stroke?i=1:"straightline"===this.tegakiData.stroke&&(i=.5),t=new RGBColor(this.tegakiData.color),flipper.tegakiColor(t.r,t.g,t.b,i)},onTegakiEraserLineButtonClick:function(e){if(this.isTegakiEraserLineOpen!==!0)return this.isTegakiEraserLineOpen===!1?(this.isTegakiEraserLineOpen=!0,this.tegakiThicknessCurrent=this.tegakiData.thickness,flipper.tegakiThickness(this.hsTegakiThicknesses[1].thickness),flipper.tegakiEraser()):void 0},onTegakiEraserLineClose:function(){if(this.isTegakiEraserLineOpen===!0)return this.isTegakiEraserLineOpen=!1,this.tegakiData.thickness=this.tegakiThicknessCurrent,flipper.tegakiThickness(this.tegakiData.thickness),flipper.tegakiPen()},onTegakiEraserAllButtonClick:function(e){return this.tegakiDeleteModal=!0},onClickTegakiDeleteModalCancel:function(e){return this.tegakiDeleteModal=!1},onClickTegakiDeleteModalOK:function(e){var i;if(this.tegakiDeleteModal=!1,i=flipper.tegakiClearCurrentPage(),!i)return window.alert(this.words.LibraDeleteError)},onClickTegakiStroke:function(e,i){return this.tegakiDataTemp.stroke=i},onClickTegakiColor:function(e,i){return this.tegakiDataTemp.color=i},onClickTegakiThickness:function(e,i,t){return this.tegakiDataTemp.thicknessType=t,this.tegakiDataTemp.thickness=i},onClickTegakiSave:function(e){var i;return this.isTegakiRestart=!0,this.tegakiData.stroke=this.tegakiDataTemp.stroke,this.tegakiData.color=this.tegakiDataTemp.color,this.tegakiData.thickness=this.tegakiDataTemp.thickness,this.tegakiData.thicknessType=this.tegakiDataTemp.thicknessType,flipper.tegakiThickness(this.tegakiData.thickness),i=new RGBColor(this.tegakiData.color),"curve"===this.tegakiData.stroke?flipper.tegakiColor(i.r,i.g,i.b,1):"straightline"===this.tegakiData.stroke&&flipper.tegakiColor(i.r,i.g,i.b,.5),this.isTegakiColorOpen=!1},onCloseButtonClick:function(e){return flipper.isCordova?location.href="../../index.html":window.parent.close()},onClickSetting:function(){return this.isSettingOpen=!this.isSettingOpen},onClickSettingDisplayed:function(){flipper.visibleMemoLayer(!this.memoLayerVisible),this.isSettingOpen=!1},onClickHelp:function(){var e;e="other"===this.hsLanguage?flipper.bookpath+"help-custom.html?link=off":flipper.bookpath+"help-"+this.hsLanguage+".html?link=off",window.open(e)},onClickPrint:function(){var e,i;return"slide"===flipper.view?(i=flipper.activePage,e=flipper.activePage):"r2l"===flipper.bookDirection?(i=0===flipper.activeLeftPage?flipper.activeRightPage:flipper.activeLeftPage,e=0===flipper.activeRightPage?flipper.activeLeftPage:flipper.activeRightPage):(i=0===flipper.activeRightPage?flipper.activeLeftPage:flipper.activeRightPage,e=0===flipper.activeLeftPage?flipper.activeRightPage:flipper.activeLeftPage),this.printStartPage=i,this.printEndPage=e,this.allowMemo||this.soMultiplePagesPrint?this.isPrintModalOpen=!0:this.openPrintWindow(!1)},onClickPrintModalCancel:function(){return this.isPrintModalOpen=!1},onClickPrintModalOK:function(){var e,i,t,n,r,s,o;for(i=!1,t=!1,o=this.checkedPrintOptions,e=n=0,r=o.length;n<r;e=++n)s=o[e],"link"===s?i=!0:"tegaki"===s&&(t=!0);return this.openPrintWindow(t)},openPrintWindow:function(e){var i,t,n,r,s;return Number(this.printStartPage)<1?this.printStartPage=1:Number(this.bookPageTotal)<Number(this.printStartPage)&&(this.printStartPage=this.bookPageTotal),Number(this.printEndPage)<1?this.printEndPage=1:Number(this.bookPageTotal)<Number(this.printEndPage)&&(this.printEndPage=this.bookPageTotal),r=!1,n=!1,/^[1-9][0-9]*$/.test(this.printStartPage)===!1&&(r=!0),/^[1-9][0-9]*$/.test(this.printEndPage)===!1&&(n=!0),Number(this.printEndPage)<Number(this.printStartPage)&&(r=!0,n=!0),r&&n?void window.alert(this.words.PrintErrorStartEnd):r?void window.alert(this.words.PrintErrorStart):n?void window.alert(this.words.PrintErrorEnd):(t=Number(this.printEndPage)-Number(this.printStartPage)+1,100<=t&&window.alert(this.words.PrintLargeInfo),i=new Date/1e3|0,s=flipper.bookpath+"html5print.html?start="+this.printStartPage+"&end="+this.printEndPage+"&bookpath="+encodeURIComponent(flipper.bookpath)+"&imagepath="+encodeURIComponent(flipper.imagepath),s+="&tegaki="+(e===!0?"on":"off"),s+="&c="+i,window.open(s,"_blank"),setTimeout(function(e){return function(){return e.isPrintModalOpen=!1}}(this),100))},changePrintStartPage:function(e){return Number(this.printStartPage)<1?this.printStartPage=1:Number(this.bookPageTotal)<Number(this.printStartPage)?this.printStartPage=this.bookPageTotal:void 0},changePrintEndPage:function(e){return Number(this.printEndPage)<1?this.printEndPage=1:Number(this.bookPageTotal)<Number(this.printEndPage)?this.printEndPage=this.bookPageTotal:void 0},convertColor:function(e,i){var t,n,r,s;return e=e.replace("#",""),r=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),t=parseInt(e.substring(4,6),16),s="rgba("+r+","+n+","+t+","+i/100+")"},buttonTouchStart:function(e){return 0!==this.toolbarCloseTimer&&(clearTimeout(this.toolbarCloseTimer),this.toolbarCloseTimer=0),$(e.currentTarget).addClass("hover")},buttonTouchMove:function(e){return $(e.currentTarget).removeClass("hover")},buttonTouchEnd:function(e){return $(e.currentTarget).removeClass("hover")},initLazyload:function(){var e;if(e=$("#thumbnail-list"),"true"===e.attr("data-init"))return e.attr("data-init","false"),Vue.nextTick(function(e){return function(){return e.lazyload()}}(this))},lazyload:function(){return $("img.lazy").lazyload({effect:"fadeIn",container:$("#thumbnail-list"),load:function(e,i){return $(this).removeClass("lazy"),$(this).parent().parent().removeClass("loading").addClass("loaded")}})},loadLanguage:function(){var e,i,t;return i="other"===this.hsLanguage?flipper.bookpath+"html5custom/language-custom.xml?c="+this.publishDateString:flipper.bookpath+"html5/language-"+this.hsLanguage+".xml?c="+this.publishDateString,e={},t={},$.ajax({type:"GET",url:i,dataType:"xml",data:e,success:function(e){return function(i){return $(i).find("text").each(function(e){if(t[$(this).attr("name")]=$(this).text(),scormScoreKind)return SSControlWrapper.words[$(this).attr("name")]=$(this).text()}),e.$set("words",t)}}(this),error:function(e,i,t){},complete:function(e){return function(i,t){return e.isLanguageLoaded=!0}}(this)})},checkPrivate:function(){var e;if(this.uaCheck.isiOS===!0&&this.uaCheck.isSafari===!0)try{return window.localStorage.setItem("privatetest",1),window.localStorage.removeItem("privatetest")}catch(i){return e=i,flipper.$emit("browserPrivateMode",!0),window.alert(this.words.BrowserMessagePrivate)}},onClickLibraMemoNoLoginModalCancel:function(){return this.libraMemoNoLoginModal=!1},onClickLibraMemoNoLoginModalOK:function(){return window.location.href=flipper.libraLoginUrl+"&content_fragment=page%3D"+this.activePage,this.libraMemoNoLoginModal=!1}},created:function(){var e;return this.uaCheck=new lwUACheck,this.$watch(function(){return flipper.isInitialized},function(e,i){var t,n,r,s,o,a,l,p,u,h,c,f,g,d,k,m,b,C,T,P,w,v;if(e){for(p=flipper.labelArray.slice(0),s=flipper.dataArray.slice(0),t=function(){C=[];for(var e=1,i=flipper.pageTotal;1<=i?e<=i:e>=i;1<=i?e++:e--)C.push(e);return C}.apply(this),flipper.startPageSetting&&s.splice(0,0,0),flipper.startPageSetting&&t.splice(0,0,0),flipper.startPageSetting&&p.splice(0,0,0),s.length%2===1&&s.push(0),t.length%2===1&&t.push(0),s.length%2===1&&p.push(0),o=a=0,g=t.length;a<g;o=++a)k=t[o],m=s[o],b=p[o],""===b&&(b="　"),0!==k&&(n=flipper.imagepath?flipper.imagepath:flipper.bookpath,r={page:t[o],path:n+"page"+m+"/thumbnail.jpg?c="+flipper.noCacheParam,label:b},this.filterdVisualIndexArray.push(r));for(o=l=0,d=t.length;l<d;o=l+=2)k=t[o],T=t[o],u=t[o+1],w=s[o],c=s[o+1],v=p[o],""===v&&(v="　"),f=p[o+1],""===f&&(f="　"),n=flipper.imagepath?flipper.imagepath:flipper.bookpath,P={page:T,path:n+"page"+w+"/thumbnail.jpg?c="+flipper.noCacheParam,label:v},h={page:u,path:n+"page"+c+"/thumbnail.jpg?c="+flipper.noCacheParam,label:f},this.visualIndexArray.push({l:"r2l"===flipper.bookDirection?P:h,r:"r2l"===flipper.bookDirection?h:P});return flipper.$emit("hammer",!1),this.loadLanguage(),window.onresize=function(e){return function(){return e.onResize()}}(this)}}),this.$watch(function(){return this.isLanguageLoaded},function(e){return function(i,t){var n;if(e.isSkinInitialized=!0,n=!0,e.uaCheck.isAndroid&&!e.uaCheck.verAndroid_over(e.androidVer)&&(n=!1),e.uaCheck.isiOS&&!e.uaCheck.veriOS_over(e.iOSVer)&&(n=!1),e.allowMemo===!0)return e.checkPrivate()}}(this)),this.$watch(function(){return this.isSkinInitialized},function(e){return function(i,t){var n,r;if(flipper.$emit("hammer",!0),e.onResize(),"plane"!==e.soHtmlSkinType&&0<flipper.textPointWords.length&&(e.isHighlightwords=!0,e.searchString=flipper.textPointWords.join(" "),e.searchText()),e.toolbarCloseTimer=setTimeout(function(){return clearTimeout(e.toolbarCloseTimer),e.toolbarCloseTimer=0,$(".toolbar").fadeTo(500,0,function(){return e.isToolbarOpen=!1,$(".toolbar").css("opacity",1)})},5e3),e.isLogoswareLogo&&(n=$("<a>"),n.attr("id","value-logolink"),n.attr("href",e.logoLinkUrl),n.attr("target","_blank"),n.css("display","inline-block"),$("#header-color").css("background-color","#eaeaea"),$("#header-color").append(n),$(".header-space").css("top","40px"),r=$("<img>"),r.attr("id","value-logo"),r.attr("src",e.logoImageurl),$(n).append(r),$("#header").show()),scormScoreKind)return SSControlWrapper.flipperInit()}}(this)),this.$watch(function(){return flipper.searchResultArray},function(e,i){return this.menuCloseAll("search"),this.isHighlightwords===!1&&(this.isSearchOpen=!0),this.isHighlightwords=!1,this.searchResultArray=e.slice(0),this.filterdSearchResultArray=[],this.searchResultLimit=20,0!==this.searchResultArray.length?this.isSearchNomatchOpen=!1:this.isSearchNomatchOpen=!0,this.filterdSearchResultArray=this.searchResultArray.filter(function(e){return function(i,t){return t<e.searchResultLimit}}(this))}),this.$watch(function(){return flipper.activePage},function(e){return function(i,t){e.activePage=i;try{onExtensionPageChange(e.activePage)}catch(e){}if("slide"===flipper.view){if(scormScoreKind)return SSControlWrapper.flipperFlipStop([flipper.activePage])}else if(scormScoreKind)return SSControlWrapper.flipperFlipStop([flipper.activeLeftPage,flipper.activeRightPage])}}(this)),this.$watch(function(){return flipper.activePageLabel},function(e){return function(i,t){return e.activePageLabel=i}}(this)),this.$watch(function(){return flipper.pageIndicateValue},function(e){return function(i,t){return e.pageIndicateValue=i}}(this)),this.$watch(function(){return flipper.singleTapTime},function(e,i){if(!this.isTegakiViewOpen)return 0!==this.toolbarCloseTimer&&(clearTimeout(this.toolbarCloseTimer),this.toolbarCloseTimer=0),this.isToolbarOpen=!this.isToolbarOpen}),this.$watch(function(){return flipper.localStorageFusenData},function(i){return function(i,t){if(!flipper.isOnLibra)return e(i)}}(this)),this.$watch(function(){return flipper.libraFusenListData},function(i){return function(i,t){if(flipper.isOnLibra&&flipper.libraAccessKey)return e(i)}}(this)),e=function(e){return function(i){var t,n,r,s,o,a,l,p;for(e.fusenListDataArray=[],p=[],r=s=0,o=i.length;s<o;r=++s)n=i[r],t=e.hsFusenBGColors.indexOf(n.bgColor),a=Number(t)+1,l=n,l.colorClassName="color"+a,flipper.dataArray.indexOf(String(n.pageId))!==-1&&p.push(e.fusenListDataArray.$set(r,l));return p}}(this),this.$watch(function(){return flipper.editingFusen},function(e,i){if(null!==e)return this.fusenData.id=e.id,this.fusenData.text=e.text,this.fusenData.bgColor=e.bgColor,this.isFusenOpen=!0}),this.$watch(function(){return this.isSearchOpen||this.isListOpen||this.isShareOpen||this.isFusenOpen||this.isTegakiViewOpen},function(e){return function(i,t){if(e.isSearchOpen||e.isListOpen||e.isShareOpen||e.isFusenOpen||e.isTegakiViewOpen)return flipper.$emit("stopPlayingMp3")}}(this)),this.$watch(function(){return flipper.error},function(e,i){if("FLQuotaExceededError"===e.message&&window.confirm(this.words.LocalStorageExceeded))return window.location.href=flipper.bookpath+"lslist.html"})},ready:function(){var e;if($(document).bind("touchstart",function(e){return function(e){if(0!==$(e.target).closest(".slidemenu-m").length&&e.originalEvent.touches.length>1)return e.preventDefault()}}(this)),$(document).bind("touchmove",function(e){return function(e){if(0===$(e.target).closest(".slidemenu-m").length&&0===$(e.target).closest(".viewer-btn-outer").length)return e.preventDefault()}}(this)),this.activePage=flipper.activePage,this.activePageLabel=flipper.activePageLabel,e=new Date/1e3|0,this.$http.get(flipper.bookpath+"menu.xml?c="+e,function(e,i,t){var n,r;return n=$.xml2json(e),this.isMenuXmlRootArray=(null!=n&&null!=(r=n.menu)?r.length:void 0)||""===n,this.treeData=n&&n.menu?n.menu:[]}),this.viewHeigh=$(window).height(),document.oncontextmenu=function(){return!1},""===scormScoreKind)return flipper.$emit("init")}})}).call(this)}]);