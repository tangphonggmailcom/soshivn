/*! skin js 5.0.13 Copyright (c) 2016 LOGOSWARE; */
!function(e){function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}([function(e,i){(function(){var e;Vue.transition("slide",{css:!1,enter:function(i,t){var n,r,s;return n=i.id,s=$("#"+i.id).width(),r=Number($("#"+i.id).attr("data-offsetl")),!e.isVerticallyLong||"fusen-slidemenu"!==n&&"tegaki-slidemenu"!==n?($(i).css("left",r-s),$(i).animate({left:r},100,function(i){return function(i){var t;if($("#flipper-app").addClass("slidemenu-open"),$("#viewer-flipl-outer").addClass("slidemenu-open"),flipper.$emit("fitScreenSize"),"list-slidemenu"===n&&!e.isTextIndexOpen&&!e.isThumbnailOpen&&!e.isFusenListOpen)switch(t=$(".segmented").find("label:first").attr("data-type")){case"textindex":return e.isTextIndexOpen=!0;case"thumbnail":return e.isThumbnailOpen=!0,e.initLazyload("thumbnail-list");case"fusen":return e.isFusenListOpen=!0}}}(this))):($(i).addClass("slidemenu-m"),$(i).css("top",$(window).height()),$(i).css("left",0),void $(i).animate({top:0},300,function(e){return function(e){return flipper.$emit("fitScreenSize")}}(this)))},enterCancelled:function(e){return $(e).stop()},leave:function(i,t){var n,r,s,a,o;return r=i.id,o=$("#"+i.id).width(),s=Number($("#"+i.id).attr("data-offsetl")),a=Number($("#"+i.id).attr("data-offsettop")),n=function(t){return function(){return e.showListTab===!0?$(i).css("left",-o):($(i).hide(),$(i).css("left",s)),$("#flipper-app").removeClass("slidemenu-open"),$("#viewer-flipl-outer").removeClass("slidemenu-open"),flipper.$emit("fitScreenSize")}}(this),e.isTegakiHorizontalToVertical&&(e.isTegakiHorizontalToVertical=!1,n()),!e.isVerticallyLong||"fusen-slidemenu"!==r&&"tegaki-slidemenu"!==r?e.showMenu?!e.isVerticallyLong||e.isFusenOpen!==!0&&e.isTegakiOpen!==!0?e.showListTab===!0?$(i).css("left",-o):$(i).hide():n():$(i).animate({left:-o},100,function(e){return function(e){return n()}}(this)):void $(i).animate({top:$(window).height()},200,function(e){return function(e){return $(i).removeClass("slidemenu-m"),$(i).css("top",a),$(i).css("left",s),n()}}(this))},leaveCancelled:function(e){return $(e).stop()}}),Vue.component("textindex-item",{props:["model","open"],template:"#textindex-template",data:function(){},computed:{isSingleChild:function(){return this.model.menu&&void 0===this.model.menu.length},isFolder:function(){return this.model.menu}},methods:{toggle:function(){return this.isFolder&&(this.open=!this.open),flipper.gotoTargetPage(this.model.pagenum,!1),flipper.$emit("sendTextIndexLog",this.model.name)},replaceNewline:function(e){return e.replace(/%0A/gi,"<br>")}}}),Vue.component("fusenlist-item",{props:["model","open"],template:"#fusenlist-template",methods:{onClickFusenData:function(){return flipper.gotoTargetPageId(this.model.pageId,!1)}}}),Vue.component("visualindex-row",{props:["model"],template:"#visual-index",computed:{isLeftCheck:function(){return"1"===flipper.scormCheckPageArray[this.model.l.page-1]},isRightCheck:function(){return"1"===flipper.scormCheckPageArray[this.model.r.page-1]},isCheck:function(){return"1"===flipper.scormCheckPageArray[this.model.page-1]}},methods:{onClickLeft:function(){return e.isPdfOpen===!0?void window.open(flipper.bookpath+"pdf/"+this.model.l.page+".pdf","_blank"):(flipper.gotoTargetPage(this.model.l.page,!1),flipper.$emit("sendVisualIndexLog",this.model.l.page))},onClickRight:function(){return e.isPdfOpen===!0?void window.open(flipper.bookpath+"pdf/"+this.model.r.page+".pdf","_blank"):(flipper.gotoTargetPage(this.model.r.page,!1),flipper.$emit("sendVisualIndexLog",this.model.r.page))},onClick:function(){return e.isPdfOpen===!0?void window.open(flipper.bookpath+"pdf/"+this.model.page+".pdf","_blank"):(flipper.gotoTargetPage(this.model.page,!1),flipper.$emit("sendVisualIndexLog",this.model.page))},onRollOverPage:function(){return this.isRollOverPage=!0},onRollOverLeft:function(){return this.isRollOverL=!0},onRollOverRight:function(){return this.isRollOverR=!0},onRollOutPage:function(){return this.isRollOverPage=!1},onRollOutLeft:function(){return this.isRollOverL=!1},onRollOutRight:function(){return this.isRollOverR=!1}},data:function(){return{isRollOverPage:!1,isRollOverL:!1,isRollOverR:!1}}}),e=new Vue({el:"#skin",data:{isSkinInitialized:!1,isLanguageLoaded:!1,activePage:1,activePageLabel:"1",treeData:null,isTextIndexOpen:!1,isMenuXmlRootArray:!0,isThumbnailOpen:!1,visualIndexArray:[],thumbnailLimit:50,thumbnailPdfLimit:50,filterdVisualIndexArray:[],filterdVisualIndexPdfArray:[],searchString:"",searchResultArray:[],filterdSearchResultArray:[],searchResultLimit:100,isSearchOpen:!1,isSearchNomatchOpen:!1,isShareOpen:!1,isTextOpen:!1,weblioString:"",weblioSrc:"",isWeblioOpen:!1,selectedTextString:"",isPdfOpen:!1,pageIndicateValue:"",isListOpen:!1,isListShow:!1,isFusenOpen:!1,isFusenListOpen:!1,fusenData:{id:"",text:"",bgColor:""},fusenDataTemp:{id:"",text:"",bgColor:""},fusenDataBgColor:"",fusenListDataArray:[],isTegakiOpen:!1,isTegakiColorOpen:!1,isTegakiHorizontalToVertical:!1,isTegakiEraserLineOpen:!1,isTegakiEraserAllOpen:!1,tegakiData:{stroke:"",color:"",thickness:"",thicknessType:""},tegakiThicknessCurrent:"",isToolbarOpen:!0,isVerticallyLong:null,isSettingOpen:!1,isPrintModalOpen:!1,checkedPrintOptions:[],checkedSearchOption:"and",words:{},openColorboxType:"",logoLinkUrl:"https://suite.logosware.com/flipper-maker/",logoImageurl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAAAjVBMVEUAAABVVVVVVVVVVVVra2uIiIiIiIhVVVVVVVVVVVVVVVWIiIiIiIhVVVWIiIhVVVVVVVWIiIhVVVWIiIiIiIiIiIiIiIiIiIiIiIhVVVVVVVVVVVWIiIiIiIhVVVXZdSuIiIj////supX23cr99vLwyKrjmGDgj1PehkbproP67uX45dfz1L3bfjjloG2SmRoVAAAAHnRSTlMAQIC/EEC/n2DP3zCAIO/vMJ+vz1BgIN+PUHCPr3AjNYMyAAADxUlEQVRYw+yVAWvbMBCFX5qT1k2qGmPJMp29XOJ0WcrW///zdpIXhFloS41pC32Ee7roIB8vB8KnPvWRtH1GeD96IapVUlSnWxIP4g1AVncBMF1n0Hv4HsY28JaAYK0HrLVvgMoW6Dlqdg2q7EQ168gtonMRukbN1DLgOACamRWkvA0qsSYYrhRXgPFo2QMdNzEqA8uGOdQagbkGtFZsIbNLox6Pl1AVKyQIywSllNGCBMXBszPiHcdKprTr2eRUzfKp/hx2u/vjJdQAoNb9+NdWOgLw0hjnCBJmy+ybZFVC7bF4qve7UcOwL6jpVyk630hwQpM8BK4a71yjQyW8NbeemSxrHR1prR0ti1pID7/3E1RmZVwKEwj/vBVzimoJNDUK4lGnpEPe1SUXoJAOj9MFSMtJIKUMRGc36UtQro2S3kA1gJR0ko9aMNXTmOjp/T8Bfw6Z9PgBXqt9DrWQFtRV0c1NqoSsfMZmvMBkmEpbtKHRZ6M+JNLTpSfgR9HVVaorZOUz1ue79R2hDN+ur1HacWB1Pn37spqB+iuRPmxnoArBZjL8lS6jZn1/PepjDnUWqrDSlO1/1KK7V6CWVT1s56HKPaQUXT+BejsLdfjbjrmtNgzDYNiyDT5AsPFdEgjs1I212/s/3uJ/1jqtycZatlLof5FKjmM+WYrcdh3VEdQtowYiX7CtPHlABIVdKAN1INKpGr1gsWTZUJDXmtZRb9dRdbOXUU11wbqfHGsIzW0ifjjzMMvUKOuN2XAwYogwF1A3QD2yAIDqJSruLhQAyeghYte1CV0aETsdoj5tXk9GdRIVhbGC2klUJMTW5Kf6DNYiBKC/om6eb6CHY1EDUe9ErfZcqweoA9EQRa2C3HFiPOKsfi9R+fCHtv/aAaxiaV4z8nCpkO5TOPvmv73Dxj6tohoN0feoYaGv4lnIkwwDaoSRS9YpKGOv4UD83W9XER8fUKxHdQAm7UQKjJXPKlomzXx4BVEWAaQC9W7HJXt//3ICapCHfoG7gmo6tFBc1TAPZG4hlie75NUB6kfaX7a741ADkRLnRYa9iDoCtYKWFGNu73/1E/cS3Ax55bRi1s3PqCwtmpVkYy01K9Py71wwOtXXHQvYMLVSHfXsjD//uP571O69q6lkp0iBgDpRDlMAamem3kYk3/szoyqHba2oyTZUjGRU/JR65ZKpmujcqG1bXQm6JF4zMrPZt5Hx1wWAhtps0h8i2MrPF04UT5Yuy3f1OpN4fNoyxZjRAsyIHmWHojFA77IX+aflVVddgN4Atkwcal/ygI8AAAAASUVORK5CYII=",printStartPage:1,printEndPage:1,linkPopupX:0,linkPopupY:0,linkPopupText:"",linkPopupIsTopArea:!0,linkPopupIsLeftArea:!0,isPDFLinkModal:!1,isTextInputFocus:!1},computed:{makerPlan:function(){return flipper.makerPlan},makerGrade:function(){return flipper.makerGrade},soHtmlSkinType:function(){return flipper.soHtmlSkinType},isLogoswareLogo:function(){return"vl"===flipper.makerGrade},bookpath:function(){return flipper.bookpath},selectedAreaUrl:function(){return flipper.selectedAreaUrl},selectedShareIframeTag:function(){return flipper.selectedShareIframeTag},selectedText:function(){return flipper.selectedLeftPageString+flipper.selectedRightPageString},visibilityFlipL:function(){return flipper.enableFlipL&&flipper.hsFlipButtonEnabled?"visible":"hidden"},visibilityFlipR:function(){return flipper.enableFlipR&&flipper.hsFlipButtonEnabled?"visible":"hidden"},visibilityFooterFlipL:function(){return flipper.enableFlipL?"visible":"hidden"},visibilityFooterFlipR:function(){return flipper.enableFlipR?"visible":"hidden"},isMinScale:function(){return 0===flipper.scaleIndex},isMaxScale:function(){return flipper.scale===flipper.maxMagnification},bookViewLength:function(){return flipper.bookViewLength},bookPageTotal:function(){return flipper.pageTotal},activeRightPage:function(){return flipper.activeRightPage},activeLeftPage:function(){return flipper.activeLeftPage},soPdf:function(){return flipper.soPdf},soPdfType:function(){return flipper.soPdfType},soSearch:function(){return flipper.soSearch},soVisualIndex:function(){return flipper.soVisualIndex},soVisualIndexLabel:function(){return flipper.soVisualIndexLabel},soTextIndex:function(){return flipper.soTextIndex&&0!==this.treeData.length},soTextIndexLabel:function(){return flipper.soTextIndexLabel},soTextIndexTreeOpen:function(){return flipper.soTextIndexTreeOpen},allowPrint:function(){return flipper.allowPrint},soMultiplePagesPrint:function(){return flipper.soMultiplePagesPrint},soPageIndicate:function(){return flipper.soPageIndicate},soShare:function(){return flipper.soShare},soTextSelect:function(){return flipper.soTextSelect},soEmbedHtml:function(){return flipper.soEmbedHtml},soSNSTwitter:function(){return flipper.soSNSTwitter},soSNSMail:function(){return flipper.soSNSMail},soSNSLine:function(){return flipper.soSNSLine},soHelp:function(){return flipper.soHelp},allowMemo:function(){return flipper.allowMemo},soFusenIndex:function(){return flipper.soFusenIndex},soFusenIndexLabel:function(){return flipper.soFusenIndexLabel},hsFusenBGColors:function(){return flipper.hsFusenBGColors},soTegakiEraserLine:function(){return!0},soTegakiEraserAll:function(){return!0},hsTegakiPenColors:function(){return flipper.hsTegakiPenColors},hsTegakiThicknesses:function(){return flipper.hsTegakiThicknesses},soChangeMemoVisible:function(){return flipper.soChangeMemoVisible},memoLayerVisible:function(){return flipper.memoLayerVisible},publishDateString:function(){return flipper.publishDateString},hsLanguage:function(){return flipper.hsLanguage},showMenu:function(){return this.isSearchOpen===!0||this.isListOpen===!0||this.isPdfOpen===!0||this.isShareOpen===!0||this.isTextOpen===!0||this.isFusenOpen===!0||this.isTegakiOpen===!0},showList:function(){return this.soVisualIndex===!0||this.soTextIndex===!0||this.soFusenIndex===!0},showListSegmented:function(){var e;return this.showListTab===!0||(e=this.soVisualIndex===!0?1:0,e+=this.soTextIndex===!0?1:0,e+=this.soFusenIndex===!0?1:0,2<=e)},showSetting:function(){return!!(this.allowMemo===!0&&this.soChangeMemoVisible===!0||this.soHelp)},popuphintInnerStyle:function(){var e;return e={position:"absolute",display:"inline-block"},this.linkPopupIsTopArea||(e.bottom="0px"),this.linkPopupIsLeftArea||(e.right="0px"),e},popuphintStyle:function(){var e;return e={position:"absolute",top:this.linkPopupY+"px",width:"300px"},this.linkPopupIsLeftArea?e.left=this.linkPopupX+"px":e.left=this.linkPopupX-320+"px",this.linkPopupIsLeftArea||(e.textAlign="left"),e},soWeblio:function(){return flipper.soWeblio},weblioUrl:function(){return"https://api.weblio.jp/act/quote/v_1_0/?q="+encodeURIComponent(this.weblioString)+"&tt=flipper_u"},showListTab:function(){return"basic"===this.soHtmlSkinType||"pop"===this.soHtmlSkinType||"black"===this.soHtmlSkinType},isChirashi:function(){return flipper.isChirashi},bookDirectionL2R:function(){return!(!flipper.isChirashi||"l2r"!==flipper.bookDirection)}},methods:{setTextInputFocus:function(e){return this.isTextInputFocus=!0},fusenListSort:function(e,i){var t;return t=Number(e.pageId)-Number(i.pageId),0===t?e.text<i.text?-1:e.text>i.text?1:0:t},onResize:function(){return $("#footer-mainlist").attr("data-width")<$("#footer-mainlist").outerWidth()&&$("#footer-mainlist").attr("data-width",$("#footer-mainlist").outerWidth()),Number($(window).width())<Number($("#footer-mainlist").attr("data-width"))+20?$("#footer").addClass("min"):$("#footer").removeClass("min"),setTimeout(function(e){return function(){var i;if(i=e.isVerticallyLong,$(window).width()<$(window).height()?e.isVerticallyLong=!0:e.isVerticallyLong=!1,e.isVerticallyLong!==i)return e.changeTegakiView(),e.changeFusenView()}}(this),100)},changeTegakiFlag:function(){return this.isTegakiOpen?this.isVerticallyLong?this.isToolbarOpen=!1:(this.isToolbarOpen=!0,this.isTegakiColorOpen=!0):(this.isToolbarOpen=!0,this.isTegakiColorOpen=!1)},changeTegakiView:function(){if(this.isTegakiOpen!==!1)return this.isVerticallyLong?(this.isTegakiHorizontalToVertical=!0,this.isTegakiColorOpen=!1,this.changeVerticalSidemenu($("#tegaki-slidemenu"))):(this.changeHorizontalSidemenu($("#tegaki-slidemenu")),this.isTegakiColorOpen&&flipper.tegakiStart()),this.changeTegakiFlag()},changeFusenView:function(){if(this.isFusenOpen!==!1)return this.isVerticallyLong?this.changeVerticalSidemenu($("#fusen-slidemenu")):this.changeHorizontalSidemenu($("#fusen-slidemenu"))},changeVerticalSidemenu:function(e){return $(e).addClass("slidemenu-m"),$(e).css("top",0),$(e).css("left",0),$("#flipper-app").removeClass("slidemenu-open"),$("#viewer-flipl-outer").removeClass("slidemenu-open"),flipper.$emit("fitScreenSize")},changeHorizontalSidemenu:function(e){var i,t;return i=Number($(e).attr("data-offsetl")),t=Number($(e).attr("data-offsettop")),$(e).removeClass("slidemenu-m"),$(e).css("top",t),$(e).css("left",i),$("#flipper-app").addClass("slidemenu-open"),$("#viewer-flipl-outer").addClass("slidemenu-open"),flipper.$emit("fitScreenSize")},page2Label:function(e){var i;try{return flipper.labelArray[e-1]}catch(e){i=e}return""},pageId2Label:function(e){var i;return i=flipper.dataArray.indexOf(String(e)),flipper.labelArray[i]},gotoTargetPage:function(){var e;return e=this.activePage,flipper.gotoTargetPage(e,!1)},gotoTargetLabel:function(){var e;return e=this.pageIndicateValue,flipper.gotoTargetLabel(e,!1),$("#flippage-word").blur()},zoomin:function(){return flipper.zoomin()},zoomout:function(){return flipper.zoomout()},flipL:function(){return flipper.flipL()},flipR:function(){return flipper.flipR()},flipLMax:function(){return flipper.flipLMax()},flipRMax:function(){return flipper.flipRMax()},menuCloseAll:function(e){if("search"!==e&&(this.isSearchOpen=!1),"list"!==e&&(this.isListOpen=!1),"pdf"!==e&&(this.isPdfOpen=!1),"share"!==e&&(this.isShareOpen=!1),"text"!==e&&(this.isTextOpen=!1),"fusen"!==e&&(this.isFusenOpen=!1),"tegaki"!==e)return this.isTegakiOpen=!1},listCloseAll:function(e){if("text"!==e&&(this.isTextIndexOpen=!1),"thumb"!==e&&(this.isThumbnailOpen=!1),"fusenlist"!==e)return this.isFusenListOpen=!1},searchText:function(){var e,i;if(0!==this.searchString.length)return $("#search-btn").removeClass("hover"),e=this.searchString.replace(/\^|\$|\\|\.|\*|\+|\?|\(|\)|\[|\]|\|/g,"\\$&").replace(/＼/g,"\\\\").replace(/￥/g,"\\\\"),i=e.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" "),flipper.$emit("searchHighlight",i),flipper.$emit("searchText",i),$("#search-keyword").blur()},searchHighlightwords:function(){var e,i;if(0!==this.searchString.length)return e=this.searchString.replace(/\^|\$|\\|\.|\*|\+|\?|\(|\)|\[|\]|\|/g,"\\$&").replace(/＼/g,"\\\\").replace(/￥/g,"\\\\"),i=e.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" "),flipper.$emit("searchHighlight",i)},onClickSearchResult:function(e){var i,t;return i=this.searchString.replace(/\^|\$|\\|\.|\*|\+|\?|\(|\)|\[|\]|\|/g,"\\$&").replace(/＼/g,"\\\\").replace(/￥/g,"\\\\"),t=i.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ").split(" "),flipper.gotoTargetPage(e,!1),flipper.$emit("searchHighlight",t)},searchClear:function(){return this.searchString="",this.isSearchOpen=!1,flipper.$emit("searchHighlight",[])},onClickMoreSearchResult:function(){return this.searchResultLimit=this.searchResultLimit+100,this.filterdSearchResultArray=this.searchResultArray.filter(function(e){return function(i,t){return t<e.searchResultLimit}}(this))},changeSearchType:function(){return flipper.isAndTextSearch="and"===this.checkedSearchOption,this.searchText()},onListButtonClick:function(){if(this.isFusenOpen!==!0||this.onCancelFusenData()!==!1)return this.menuCloseAll("list"),this.isListOpen=!this.isListOpen},onListPdfButtonClick:function(){return window.open(flipper.bookpath+"book.pdf","_blank")},onTextIndexButtonClick:function(){if(this.showListTab===!0)return void(this.isTextIndexOpen?($("#textindex-btn").find(".segmented-btn").removeClass("hover"),this.isTextIndexOpen=!1,this.isListOpen=!1):(this.listCloseAll("text"),this.isTextIndexOpen=!0,this.isListOpen=!0));if(!this.isTextIndexOpen)return this.listCloseAll("text"),this.isTextIndexOpen=!0},onThumbnailButtonClick:function(){if(this.showListTab===!0)return void(this.isThumbnailOpen?($("#thumbnail-btn").find(".segmented-btn").removeClass("hover"),this.isThumbnailOpen=!1,this.isListOpen=!1):(this.listCloseAll("thumb"),this.isThumbnailOpen=!0,this.isListOpen=!0,this.initLazyload("thumbnail-list")));if(!this.isThumbnailOpen)return this.listCloseAll("thumb"),this.isThumbnailOpen=!0,this.initLazyload("thumbnail-list")},onClickMoreThumbnail:function(){return this.thumbnailLimit=this.isChirashi?this.thumbnailLimit+100:this.thumbnailLimit+50,this.filterdVisualIndexArray=this.visualIndexArray.filter(function(e){return function(i,t){return t<e.thumbnailLimit}}(this)),Vue.nextTick(function(e){return function(){return e.lazyload("thumbnail-list")}}(this))},onClickMorePdfThumbnail:function(){return this.thumbnailPdfLimit=this.isChirashi?this.thumbnailPdfLimit+100:this.thumbnailPdfLimit+50,this.filterdVisualIndexPdfArray=this.visualIndexArray.filter(function(e){return function(i,t){return t<e.thumbnailPdfLimit}}(this)),Vue.nextTick(function(e){return function(){return e.lazyload("pdf-thumbnail-list")}}(this))},onPdfButtonClick:function(){return"book"===flipper.soPdfType?window.open(flipper.bookpath+"book.pdf","_blank"):"undefined"==typeof isPDFList||isPDFList!==!0?this.isChirashi===!0?window.open(flipper.bookpath+"pdf/"+flipper.activePage+".pdf","_blank"):0===flipper.activeLeftPage?window.open(flipper.bookpath+"pdf/"+flipper.activeRightPage+".pdf","_blank"):0===flipper.activeRightPage?window.open(flipper.bookpath+"pdf/"+flipper.activeLeftPage+".pdf","_blank"):this.isPDFLinkModal=!0:(this.menuCloseAll("pdf"),this.isPdfOpen=!this.isPdfOpen,this.isPdfOpen?this.initLazyload("pdf-thumbnail-list"):void 0)},onClickPDFLeft:function(){return window.open(flipper.bookpath+"pdf/"+flipper.activeLeftPage+".pdf","_blank"),this.isPDFLinkModal=!1},onClickPDFRight:function(){return window.open(flipper.bookpath+"pdf/"+flipper.activeRightPage+".pdf","_blank"),this.isPDFLinkModal=!1},onClickPDFOutside:function(){return this.isPDFLinkModal=!1},onFusenListButtonClick:function(){if(this.showListTab===!0)return void(this.isFusenListOpen?($("#fusenlist-btn").find(".segmented-btn").removeClass("hover"),this.isFusenListOpen=!1,this.isListOpen=!1):(this.listCloseAll("fusenlist"),this.isFusenListOpen=!0,this.isListOpen=!0));if(!this.isFusenListOpen)return this.listCloseAll("fusenlist"),this.isFusenListOpen=!0},onShareButtonClick:function(){if(this.isFusenOpen!==!0||this.onCancelFusenData()!==!1)return this.menuCloseAll("share"),this.isShareOpen=!this.isShareOpen},onTextButtonClick:function(){if(this.isFusenOpen!==!0||this.onCancelFusenData()!==!1)return this.isWeblioOpen=!1,this.weblioSrc="",this.selectedTextString="",this.menuCloseAll("text"),this.isTextOpen=!this.isTextOpen},onClickDictionary:function(){if(0!==this.selectedTextString.length)return this.weblioString=this.selectedTextString.substr(0,500),this.weblioSrc=this.weblioUrl,this.isWeblioOpen=!0},onClickWeblioClose:function(){return this.weblioString="",this.weblioSrc="",this.isWeblioOpen=!1},onClickTwitter:function(){return window.open(flipper.shareUrlForTwitter)},onClickMail:function(){return window.location.href=flipper.shareUrlForMail},onClickLine:function(){return window.open(flipper.shareUrlForLine)},onFusenButtonClick:function(){var e;if(flipper.isOnLibra&&!flipper.libraAccessKey)return void(confirm(this.words.LibraMemoNoLoginMessage)&&(e=Math.max(flipper.activeRightPage,flipper.activeLeftPage),window.location.href=flipper.libraLoginUrl+"&content_fragment=page%3D"+String(e)));if(this.isFusenOpen!==!0||this.onCancelFusenData()!==!1)return this.menuCloseAll("fusen"),this.isFusenOpen=!this.isFusenOpen,this.isFusenOpen?(this.fusenData.id="",this.fusenData.text="",""===this.fusenDataBgColor&&(this.fusenDataBgColor=this.hsFusenBGColors[0]),this.fusenData.bgColor=this.fusenDataBgColor,this.fusenDataTemp.id=this.fusenData.id,this.fusenDataTemp.text=this.fusenData.text,this.fusenDataTemp.bgColor=this.fusenData.bgColor):void 0},onCancelFusenData:function(){return this.fusenDataTemp.text===this.fusenData.text&&this.fusenDataTemp.bgColor===this.fusenData.bgColor||!!confirm(this.words.FusenCancelConfirm)&&(this.fusenData.id="",this.fusenData.text="",this.fusenData.bgColor="",this.fusenDataTemp.id="",this.fusenDataTemp.text="",this.fusenDataTemp.bgColor="",!0)},onClickFusenDelete:function(){if(confirm(this.words.FusenDeleteConfirm))return flipper.fusenPeel(this.fusenData.id)?this.isFusenOpen=!1:window.alert(this.words.LibraDeleteError)},onClickFusenColor:function(e){return this.fusenData.bgColor=e},onClickFusenCancel:function(){return this.isFusenOpen=!1},onClickFusenSave:function(){return""===this.fusenData.id?flipper.fusenPaste(this.fusenData):flipper.fusenUpdate(this.fusenData),this.fusenDataBgColor=this.fusenData.bgColor,this.isFusenOpen=!1},onTegakiButtonClick:function(){var e,i;if(flipper.isOnLibra&&!flipper.libraAccessKey)return void(confirm(this.words.LibraMemoNoLoginMessage)&&(e=Math.max(flipper.activeRightPage,flipper.activeLeftPage),window.location.href=flipper.libraLoginUrl+"&content_fragment=page%3D"+String(e)));if(this.isFusenOpen!==!0||this.onCancelFusenData()!==!1)return""===this.tegakiData.stroke&&(this.tegakiData.stroke="curve",this.tegakiData.color=this.hsTegakiPenColors[0],this.tegakiData.thickness=this.hsTegakiThicknesses[0].thickness,this.tegakiData.thicknessType=this.hsTegakiThicknesses[0].thicknessType,i=new RGBColor(this.tegakiData.color),flipper.tegakiPen(),flipper.tegakiColor(i.r,i.g,i.b,1),flipper.tegakiThickness(this.tegakiData.thickness)),this.menuCloseAll("tegaki"),this.isTegakiOpen=!this.isTegakiOpen},onTegakiColorButtonClick:function(){if(!this.isTegakiColorOpen)return this.onTegakiEraserLineClose(),flipper.tegakiEnd(),this.isTegakiColorOpen=!0},onTegakiPenButtonClick:function(){var e,i;if(this.isTegakiEraserLineOpen!==!1)return this.onTegakiEraserLineClose(),"curve"===this.tegakiData.stroke?e=1:"straightline"===this.tegakiData.stroke&&(e=.5),i=new RGBColor(this.tegakiData.color),flipper.tegakiColor(i.r,i.g,i.b,e)},onTegakiEraserLineButtonClick:function(){if(this.isTegakiEraserLineOpen!==!0)return this.isTegakiEraserLineOpen===!1?(this.isTegakiEraserLineOpen=!0,this.tegakiThicknessCurrent=this.tegakiData.thickness,flipper.tegakiThickness(this.hsTegakiThicknesses[1].thickness),flipper.tegakiEraser()):void 0},onTegakiEraserLineClose:function(){if(this.isTegakiEraserLineOpen===!0)return this.isTegakiEraserLineOpen=!1,this.tegakiData.thickness=this.tegakiThicknessCurrent,flipper.tegakiThickness(this.tegakiData.thickness),flipper.tegakiPen()},onTegakiEraserAllButtonClick:function(){var e;if(confirm(this.words.TegakiDeleteConfirm)&&(e=flipper.tegakiClearCurrentPage(),!e))return window.alert(this.words.LibraDeleteError)},onClickTegakiStroke:function(e){var i;return this.isTegakiEraserLineOpen===!0&&this.onTegakiEraserLineClose(),this.tegakiData.stroke=e,i=new RGBColor(this.tegakiData.color),"curve"===this.tegakiData.stroke?(flipper.tegakiPen(),flipper.tegakiColor(i.r,i.g,i.b,1)):"straightline"===this.tegakiData.stroke?(flipper.tegakiPen(),flipper.tegakiColor(i.r,i.g,i.b,.5)):void 0},onClickTegakiColor:function(e){var i,t;if(!this.isTegakiEraserLineOpen)return"curve"===this.tegakiData.stroke?i=1:"straightline"===this.tegakiData.stroke&&(i=.5),this.tegakiData.color=e,t=new RGBColor(this.tegakiData.color),flipper.tegakiColor(t.r,t.g,t.b,i)},onClickTegakiThickness:function(e,i){if("thickness"!==this.tegakiData.stroke)return this.tegakiData.thickness=e,this.tegakiData.thicknessType=i,flipper.tegakiThickness(this.tegakiData.thickness)},onClickTegakiClose:function(){return this.isVerticallyLong&&this.isTegakiColorOpen?(this.isTegakiColorOpen=!1,void flipper.tegakiStart()):this.isTegakiOpen=!1},onClickSetting:function(){var e;if(this.isSettingOpen=!this.isSettingOpen,this.isSettingOpen)return e=!0,$(document).off("click"),$(document).on("click",function(i){return function(t){if(0===$(t.target).closest(".setting-list-btn").length)return e===!1&&($(document).off("click"),i.isSettingOpen=!1),e=!1}}(this))},onClickSettingDisplayed:function(){flipper.visibleMemoLayer(!this.memoLayerVisible),$(document).off("click"),this.isSettingOpen=!1},onClickHelp:function(){var e;e="other"===this.hsLanguage?flipper.bookpath+"help-custom.html?link=off":flipper.bookpath+"help-"+this.hsLanguage+".html?link=off",window.open(e)},onClickSettingClose:function(){return $(document).off("click"),this.isSettingOpen=!1},print:function(){var e,i;return"slide"===flipper.view?(i=flipper.activePage,e=flipper.activePage):"r2l"===flipper.bookDirection?(i=0===flipper.activeLeftPage?flipper.activeRightPage:flipper.activeLeftPage,e=0===flipper.activeRightPage?flipper.activeLeftPage:flipper.activeRightPage):(i=0===flipper.activeRightPage?flipper.activeLeftPage:flipper.activeRightPage,e=0===flipper.activeLeftPage?flipper.activeRightPage:flipper.activeLeftPage),this.printStartPage=i,this.printEndPage=e,this.allowMemo||this.soMultiplePagesPrint?this.isPrintModalOpen=!0:this.openPrintWindow(!1)},onClickPrintModalCancel:function(){return this.isPrintModalOpen=!1},onClickPrintModalOK:function(){var e,i,t,n,r,s,a;for(i=!1,t=!1,a=this.checkedPrintOptions,e=n=0,r=a.length;n<r;e=++n)s=a[e],"link"===s?i=!0:"tegaki"===s&&(t=!0);return this.openPrintWindow(t)},openPrintWindow:function(e){var i,t,n,r,s;return Number(this.printStartPage)<1?this.printStartPage=1:Number(this.bookPageTotal)<Number(this.printStartPage)&&(this.printStartPage=this.bookPageTotal),Number(this.printEndPage)<1?this.printEndPage=1:Number(this.bookPageTotal)<Number(this.printEndPage)&&(this.printEndPage=this.bookPageTotal),r=!1,n=!1,/^[1-9][0-9]*$/.test(this.printStartPage)===!1&&(r=!0),/^[1-9][0-9]*$/.test(this.printEndPage)===!1&&(n=!0),Number(this.printEndPage)<Number(this.printStartPage)&&(r=!0,n=!0),r&&n?void window.alert(this.words.PrintErrorStartEnd):r?void window.alert(this.words.PrintErrorStart):n?void window.alert(this.words.PrintErrorEnd):(t=Number(this.printEndPage)-Number(this.printStartPage)+1,100<=t&&window.alert(this.words.PrintLargeInfo),i=new Date/1e3|0,s=flipper.bookpath+"html5print.html?start="+this.printStartPage+"&end="+this.printEndPage+"&bookpath="+encodeURIComponent(flipper.bookpath)+"&imagepath="+encodeURIComponent(flipper.imagepath),s+="&tegaki="+(e===!0?"on":"off"),s+="&c="+i,window.open(s,"_blank"),setTimeout(function(e){return function(){return e.isPrintModalOpen=!1}}(this),100))},changePrintStartPage:function(e){return Number(this.printStartPage)<1?this.printStartPage=1:Number(this.bookPageTotal)<Number(this.printStartPage)?this.printStartPage=this.bookPageTotal:void 0},changePrintEndPage:function(e){return Number(this.printEndPage)<1?this.printEndPage=1:Number(this.bookPageTotal)<Number(this.printEndPage)?this.printEndPage=this.bookPageTotal:void 0},convertColor:function(e,i){var t,n,r,s;return e=e.replace("#",""),r=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),t=parseInt(e.substring(4,6),16),s="rgba("+r+","+n+","+t+","+i/100+")"},buttonMouseOver:function(e){return $(e.currentTarget).addClass("hover")},buttonMouseLeave:function(e){return $(e.currentTarget).removeClass("hover")},initLazyload:function(e){var i;if(i=$("#"+e),"true"===i.attr("data-init"))return i.attr("data-init","false"),Vue.nextTick(function(i){return function(){return i.lazyload(e)}}(this))},lazyload:function(e){var i;return i=$("#"+e),$("#"+e).find("img.lazy").lazyload({effect:"fadeIn",container:i,load:function(e,i){return $(this).removeClass("lazy"),$(this).parent().parent().removeClass("loading").addClass("loaded")}})},loadLanguage:function(){var e,i,t;return i="other"===this.hsLanguage?flipper.bookpath+"html5custom/language-custom.xml?c="+this.publishDateString:flipper.bookpath+"html5/language-"+this.hsLanguage+".xml?c="+this.publishDateString,e={},t={},$.ajax({type:"GET",url:i,dataType:"xml",data:e,success:function(e){return function(i){return $(i).find("text").each(function(e){if(t[$(this).attr("name")]=$(this).text(),scormScoreKind)return SSControlWrapper.words[$(this).attr("name")]=$(this).text()}),e.$set("words",t)}}(this),error:function(e,i,t){},complete:function(e){return function(i,t){return e.isLanguageLoaded=!0}}(this)})}},created:function(){var e;return window.onresize=function(e){return function(){return e.onResize()}}(this),this.$watch(function(){return flipper.onInitErrorIE9},function(e,i){if(e)return $("#skin").addClass("hide"),$("#flipper-component").addClass("hide"),this.loadLanguage()}),this.$watch(function(){return flipper.isInitialized},function(e,i){var t,n,r,s,a,o,l,p,u,h,f,c,g,d,m,k,b,T,P,L,C,w;if(e){if(p=flipper.labelArray.slice(0),s=flipper.dataArray.slice(0),t=function(){T=[];for(var e=1,i=flipper.pageTotal;1<=i?e<=i:e>=i;1<=i?e++:e--)T.push(e);return T}.apply(this),flipper.startPageSetting&&s.splice(0,0,0),flipper.startPageSetting&&t.splice(0,0,0),flipper.startPageSetting&&p.splice(0,0,0),s.length%2===1&&s.push(0),t.length%2===1&&t.push(0),s.length%2===1&&p.push(0),this.isChirashi===!0){for(a=o=0,g=t.length;o<g;a=++o)m=t[a],k=s[a],b=p[a],""===b&&(b="　"),0!==m&&(n=flipper.imagepath?flipper.imagepath:flipper.bookpath,r={page:t[a],path:n+"page"+k+"/thumbnail.jpg?c="+flipper.noCacheParam,label:b},this.visualIndexArray.push(r));this.thumbnailLimit*=2,this.thumbnailPdfLimit*=2}else for(a=l=0,d=t.length;l<d;a=l+=2)m=t[a],P=t[a],u=t[a+1],C=s[a],f=s[a+1],w=p[a],""===w&&(w="　"),c=p[a+1],""===c&&(c="　"),n=flipper.imagepath?flipper.imagepath:flipper.bookpath,L={page:P,path:n+"page"+C+"/thumbnail.jpg?c="+flipper.noCacheParam,label:w},h={page:u,path:n+"page"+f+"/thumbnail.jpg?c="+flipper.noCacheParam,label:c},this.visualIndexArray.push({l:"r2l"===flipper.bookDirection?L:h,r:"r2l"===flipper.bookDirection?h:L});return this.filterdVisualIndexArray=this.visualIndexArray.filter(function(e){return function(i,t){return t<e.thumbnailLimit}}(this)),this.filterdVisualIndexPdfArray=this.visualIndexArray.filter(function(e){return function(i,t){return t<e.thumbnailPdfLimit}}(this)),flipper.$emit("hammer",!1),this.loadLanguage()}}),this.$watch(function(){return this.isLanguageLoaded},function(e){return function(i,t){if(!flipper.isIE9)return e.isSkinInitialized=!0}}(this)),this.$watch(function(){return this.isSkinInitialized},function(e){return function(i,t){var n,r;if(flipper.$emit("hammer",!0),$("#footer-mainlist").attr("data-width",$("#footer-mainlist").outerWidth()),e.onResize(),e.showListTab===!0&&($("#list-slidemenu").css("left",-$("#list-slidemenu").outerWidth()),e.isListShow=!0),"plane"!==e.soHtmlSkinType&&(flipper.soVisualIndexStartOpen?(e.isThumbnailOpen=!0,e.isListOpen=!0,e.initLazyload("thumbnail-list")):flipper.soTextIndexStartOpen&&0!==e.treeData.length&&(e.isTextIndexOpen=!0,e.isListOpen=!0)),"plane"!==e.soHtmlSkinType&&0<flipper.textPointWords.length&&(e.searchString=flipper.textPointWords.join(" "),e.isListOpen===!0?e.searchHighlightwords():e.searchText()),e.isLogoswareLogo&&(n=$("<a>"),n.attr("id","value-logolink"),n.attr("href",e.logoLinkUrl),n.attr("target","_blank"),n.css("display","inline-block"),$("#header-color").css("background-color","#eaeaea"),$("#header-color").append(n),$(".header-space").css("top","40px"),r=$("<img>"),r.attr("id","value-logo"),r.attr("src",e.logoImageurl),$(n).append(r),$("#header").show()),scormScoreKind)return SSControlWrapper.flipperInit()}}(this)),this.$watch(function(){return flipper.searchResultArray},function(e,i){
if(this.isFusenOpen!==!0||this.onCancelFusenData()!==!1)return this.menuCloseAll("search"),this.isSearchOpen=!0,this.searchResultArray=e.slice(0),this.filterdSearchResultArray=[],this.searchResultLimit=100,this.filterdSearchResultArray=this.searchResultArray.filter(function(e){return function(i,t){return t<e.searchResultLimit}}(this))}),this.$watch(function(){return flipper.activePage},function(e){return function(i,t){e.activePage=i,""!==e.fusenData.id&&(e.isFusenOpen=!1);try{onExtensionPageChange(e.activePage)}catch(e){}if("slide"===flipper.view){if(scormScoreKind)return SSControlWrapper.flipperFlipStop([flipper.activePage])}else if(scormScoreKind)return SSControlWrapper.flipperFlipStop([flipper.activeLeftPage,flipper.activeRightPage])}}(this)),this.$watch(function(){return flipper.activePageLabel},function(e){return function(i,t){return e.activePageLabel=i}}(this)),this.$watch(function(){return this.isShareOpen},function(e,i){return flipper.$emit("areaCanvas","url",e)}),this.$watch(function(){return this.isTextOpen},function(e,i){return flipper.$emit("areaCanvas","text",e)}),this.$watch(function(){return flipper.pageIndicateValue},function(e){return function(i,t){return e.pageIndicateValue=i}}(this)),this.$watch(function(){return this.isListOpen},function(e){return function(i,t){if(e.showListTab===!0&&i===!1)return e.listCloseAll()}}(this)),this.$watch(function(){return flipper.localStorageFusenData},function(i){return function(i,t){if(!flipper.isOnLibra)return e(i)}}(this)),this.$watch(function(){return flipper.libraFusenListData},function(i){return function(i,t){if(flipper.isOnLibra&&flipper.libraAccessKey)return e(i)}}(this)),e=function(e){return function(i){var t,n,r,s,a,o,l,p;for(e.fusenListDataArray=[],p=[],r=s=0,a=i.length;s<a;r=++s)n=i[r],t=e.hsFusenBGColors.indexOf(n.bgColor),o=Number(t)+1,l=n,l.colorClassName="color"+o,flipper.dataArray.indexOf(String(n.pageId))!==-1&&p.push(e.fusenListDataArray.$set(r,l));return p}}(this),this.$watch(function(){return flipper.editingFusen},function(e,i){if(!(this.isFusenOpen===!0&&this.onCancelFusenData()===!1||this.isFusenOpen===!0&&this.fusenData.id===e.id))return this.menuCloseAll(),Vue.nextTick(function(i){return function(){return null!==e&&(i.fusenData.id=e.id,i.fusenData.text=e.text,i.fusenData.bgColor=e.bgColor,i.fusenDataTemp.id=i.fusenData.id,i.fusenDataTemp.text=i.fusenData.text,i.fusenDataTemp.bgColor=i.fusenData.bgColor),i.isFusenOpen=!0}}(this))}),this.$watch(function(){return this.isTegakiOpen},function(e,i){return this.changeTegakiFlag(),e!==!0?(flipper.tegakiEnd(),this.isListShow=!0):(flipper.tegakiStart(),this.isVerticallyLong===!0?this.isListShow=!1:void 0)}),this.$watch(function(){return this.isVerticallyLong},function(e,i){return e!==!0?this.isListShow=!0:this.isTegakiOpen===!0?this.isListShow=!1:void 0}),this.$watch(function(){return this.isListShow},function(e,i){if(this.showListTab===!0)return e===!0?$("#list-slidemenu").show():$("#list-slidemenu").hide()}),this.$watch(function(){return flipper.selectedLeftPageString},function(e,i){return this.selectedTextString=flipper.selectedLeftPageString+flipper.selectedRightPageString}),this.$watch(function(){return flipper.selectedRightPageString},function(e,i){return this.selectedTextString=flipper.selectedLeftPageString+flipper.selectedRightPageString}),this.$watch(function(){return flipper.error},function(e,i){if("FLQuotaExceededError"===e.message&&window.confirm(this.words.LocalStorageExceeded))return window.location.href=flipper.bookpath+"lslist.html"}),this.$watch(function(){return flipper.linkPopupText},function(e,i){return this.linkPopupText=e})},ready:function(){var e,i,t,n,r,s;if(document.getElementById("flipper-app").addEventListener("click",function(e){return function(i){return e.isTextInputFocus=!1,document.activeElement.blur()}}(this)),document.addEventListener("keydown",function(e){return function(i){if(!e.isTextInputFocus)return"ArrowRight"===i.code?flipper.flipR():"ArrowLeft"===i.code?flipper.flipL():"ArrowUp"===i.code?flipper.zoomin():"ArrowDown"===i.code?flipper.zoomout():void 0}}(this)),n=function(e){return function(i){return e.linkPopupX=i.pageX+10,e.linkPopupY=i.pageY-10,e.linkPopupIsLeftArea=e.linkPopupX<flipper.componentCenterGlobal,e.linkPopupIsTopArea=e.linkPopupY<flipper.componentMiddleGlobal}}(this),document.addEventListener("mousemove",n),this.activePage=flipper.activePage,this.activePageLabel=flipper.activePageLabel,e=new Date/1e3|0,this.$http.get(flipper.bookpath+"menu.xml?c="+e,function(e){return function(i,t,n){var r,s;return r=$.xml2json(i),e.isMenuXmlRootArray=(null!=r&&null!=(s=r.menu)?s.length:void 0)||""===r,""===r&&(e.isMenuXmlRootArray=!0),e.treeData=r&&r.menu?r.menu:[]}}(this)),t=0,0!==$("#leftside:visible").length&&(t=$("#leftside").outerWidth()),i=0,0!==$("#header:visible").length&&(i=$("#header").outerHeight()),r=0,0!==$("#rightside:visible").length&&(r=$("#rightside").outerWidth()),s=$(".slidemenu"),s.attr("data-offsetl",t),s.attr("data-offsettop",i),$("#search-slidemenu").attr("data-offsetw",$("#search-slidemenu").outerWidth()),$("#list-slidemenu").attr("data-offsetw",$("#list-slidemenu").outerWidth()),$("#share-slidemenu").attr("data-offsetw",$("#share-slidemenu").outerWidth()),$("#text-slidemenu").attr("data-offsetw",$("#share-slidemenu").outerWidth()),$("#fusen-slidemenu").attr("data-offsetw",$("#fusen-slidemenu").outerWidth()),$("#tegaki-slidemenu").attr("data-offsetw",$("#tegaki-slidemenu").outerWidth()),document.oncontextmenu=function(e){return function(e){return 0!==$(e.target).closest("#share-url-textarea").length||0!==$(e.target).closest("#share-embed-textarea").length||(0!==$(e.target).closest("#share-text-textarea").length||(0!==$(e.target).closest("#fusen-text").length||0!==$(e.target).closest("#search-keyword").length))}}(this),""===scormScoreKind)return flipper.$emit("init")}})}).call(this)}]);